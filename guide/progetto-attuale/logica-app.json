{
  "last_update": "2026-01-30T18:45:00Z",
  "task_completed": "Fix Calcolo Budget Residuo",
  "feature_logic": {
    "feature_name": "Visualizzazione Budget Residuo Reale",
    "summary": "Corretto il calcolo del 'Residuo' nella dashboard manager per riflettere il 'Current Budget' modificabile dall'admin, anzich√© una derivazione dal 'Total Budget' iniziale.",
    "architectural_pattern": "UI Update in Client Component ManagerColumn.tsx. La logica di visualizzazione ora privilegia il dato 'current_budget' persistito nel DB rispetto al calcolo teorico, permettendo all'admin di sovrascrivere manualmente i crediti disponibili.",
    "user_flow": [
      "1. Admin modifica il budget di un manager tramite 'Aggiungi Crediti' (es. imposta a 0).",
      "2. Il database aggiorna 'current_budget'.",
      "3. La UI del manager (ManagerColumn) legge il nuovo 'current_budget'.",
      "4. Il campo 'Residuo' mostra esattamente il valore impostato (es. 0), indipendentemente dalle spese precedenti."
    ],
    "core_components_interaction": {
      "src/components/auction/ManagerColumn.tsx": "Aggiornata formula calcolo variabile 'residuo'.",
      "scripts/": "Aggiunti script di utility per debug e gestione DB (count-leagues, find-duplicates)."
    }
  }
}
